---
import { getCollection } from "astro:content";
import type { GetStaticPaths, InferGetStaticPropsType } from "astro";

export const getStaticPaths: GetStaticPaths = async () => {
	const games = await getCollection("wfp-games");
	const tags = [...new Set(games.map((game) => game.data.tag))];

	return tags.map((tag) => ({
		params: { tag },
		props: { tag },
	}));
};

import WFPLayout from "@/layouts/WFPLayout.astro";

type Props = InferGetStaticPropsType<typeof getStaticPaths>;

const { tag } = Astro.props;
---

<WFPLayout tag={tag} />
